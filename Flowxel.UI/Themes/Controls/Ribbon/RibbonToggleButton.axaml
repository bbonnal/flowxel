<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="using:Flowxel.UI.Controls.Ribbon">

    <ControlTheme x:Key="{x:Type controls:RibbonToggleButton}" TargetType="controls:RibbonToggleButton">
        <Setter Property="Template">
            <ControlTemplate>
                <Border x:Name="PART_Root"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        BorderThickness="1"
                        CornerRadius="{DynamicResource fxCornerRadiusS}"
                        Padding="{DynamicResource fxPaddingButton}"
                        MinWidth="{DynamicResource fxButtonMinWidth}">
                    <StackPanel HorizontalAlignment="Center" Spacing="2">
                        <PathIcon Data="{Binding IconData, RelativeSource={RelativeSource TemplatedParent}}"
                                  Width="{DynamicResource fxIconL}" Height="{DynamicResource fxIconL}"
                                  HorizontalAlignment="Center"
                                  Foreground="{DynamicResource fxForegroundBrush}"
                                  IsVisible="{Binding IconData, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static ObjectConverters.IsNotNull}}" />
                        <TextBlock Text="{Binding Header, RelativeSource={RelativeSource TemplatedParent}}"
                                   FontSize="{DynamicResource fxFontSizeS}"
                                   HorizontalAlignment="Center"
                                   TextAlignment="Center"
                                   Foreground="{DynamicResource fxForegroundBrush}"
                                   IsVisible="{Binding Header, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static StringConverters.IsNotNullOrEmpty}}" />
                    </StackPanel>
                </Border>
            </ControlTemplate>
        </Setter>

        <Style Selector="^:pointerover /template/ Border#PART_Root">
            <Setter Property="Background" Value="{DynamicResource fxHoverBrush}" />
        </Style>

        <Style Selector="^:pressed /template/ Border#PART_Root">
            <Setter Property="Background" Value="{DynamicResource fxPressedBrush}" />
        </Style>

        <Style Selector="^:focus-visible /template/ Border#PART_Root">
            <Setter Property="Background" Value="{DynamicResource fxHoverBrush}" />
            <Setter Property="BorderBrush" Value="{DynamicResource fxAccentBrush}" />
        </Style>

        <Style Selector="^:checked /template/ Border#PART_Root">
            <Setter Property="Background" Value="{DynamicResource fxSelectionBrush}" />
            <Setter Property="BorderBrush" Value="{DynamicResource fxAccentBrush}" />
            <Setter Property="BorderThickness" Value="1" />
        </Style>

        <Style Selector="^:checked:pointerover /template/ Border#PART_Root">
            <Setter Property="Background" Value="{DynamicResource fxAccentHoverBrush}" />
        </Style>
    </ControlTheme>

</ResourceDictionary>
